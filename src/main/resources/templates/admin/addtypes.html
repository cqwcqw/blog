<!DOCTYPE html>
<html lang="en">
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="admin/common :: head(~{::title})">
    <title>新增分类</title>
</head>
<body>
    <!-- 导航栏 -->
    <nav th:replace="admin/common :: nav(2)" class="ui inverted attached segment m-padding-mini m-shadow"></nav>
    <!-- 二级导航 -->
    <div class="ui attached pointing menu">
      <div class="ui container">
        <div class="left menu">
          <a href="" th:href="@{/admin/types}" class="item">列表</a>
          <a href="" th:href="@{/admin/addtypes}" class="teal active item">新增</a>
        </div>
      </div>
    </div>

    <!-- 内容 -->
    <div class="m-padding-normal m-margin-larger" style="min-height: 70%;">
      <div class="ui container">
        <!-- form -->
        <form action="" th:action="*{id}==null ? @{/admin/types/add} :  @{/admin/types/edit/{id}(id=*{id})}" th:object="${type}" method="post" class="ui form">
          <!-- indexImage -->
            <input type="hidden" name="id" th:value="*{id}">
          <div class="required field">
            <div class="ui left labeled input">
              <label class="ui teal basic label">分类</label>
              <input type="text" name="name" placeholder="请输入分类名称" th:value="*{name}">
            </div>
          </div>
            <div class="ui error message"></div>
<!--/*/       <div class="ui negative message m-text" th:if="${#fields.hasErrors('name')}">
                <i class="icon close"></i>
                <div class="header">提示：</div>
                <p th:errors="*{name}"></p>
            </div>/*/-->
          <!-- 按钮 -->
          <div class="ui right aligned container">
            <button class="ui button" type="button" onclick="window.history.go(-1)">返回</button>
            <button class="ui teal button submit">提交</button>
          </div>
        </form>
      </div>
    </div>

    <!-- 底部 -->
    <footer th:replace="admin/common :: footer" class="ui inverted vertical segment m-padding-massive"></footer>

    <!--/*/<th:block th:replace="admin/common :: script">/*/-->
    <!--/*/</th:block>/*/-->

    <script>
      $('#nav-toggle-button').click(function(){
        $('.m-mobile-toggle').toggleClass('m-mobile-hide');
      });
      $('.ui.dropdown').dropdown({
        on:'hover'
      });
      $('.ui.form').form({
        fields:{
          title:{
            identifier:'name',
            rules:[{
              type:"empty",
              prompt:"请输入分类标题"
            }]
          }
        }
      });
      $('.message .close').on('click',function () {
          $(this).closest('.message').transition('fade');
      });
    </script>
</body>
</html>